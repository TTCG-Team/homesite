import{E}from"./events.B-FFxznp.js";class M extends E{value;_timer;_old;constructor(e){super(),this.value=e,this._old=e.value,this._timer=setInterval(()=>{(this.value.changed?this.value.changed(this._old):this._old!==this.value.value)&&(this.emit("change",this._old,this.value.value),this._old=this.value.value)},100)}}var _=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-_.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?_.Bounce.In(t*2)*.5:_.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),v=function(){return performance.now()},k=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,i){e===void 0&&(e=v()),i===void 0&&(i=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<r.length;s++){var n=this._tweens[r[s]],a=!i;n&&n.update(e,a)===!1&&!i&&delete this._tweens[r[s]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),d={Linear:function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r),n=d.Utils.Linear;return e<0?n(t[0],t[1],r):e>1?n(t[i],t[i-1],i-r):n(t[s],t[s+1>i?i:s+1],r-s)},Bezier:function(t,e){for(var i=0,r=t.length-1,s=Math.pow,n=d.Utils.Bernstein,a=0;a<=r;a++)i+=s(1-e,r-a)*s(e,a)*t[a]*n(r,a);return i},CatmullRom:function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r),n=d.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(s=Math.floor(r=i*(1+e))),n(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],r-s)):e<0?t[0]-(n(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[i]-(n(t[i],t[i],t[i-1],t[i-1],r-i)-t[i]):n(t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2],r-s)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=d.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var r=e;r>1;r--)i*=r;return t[e]=i,i}}(),CatmullRom:function(t,e,i,r,s){var n=(i-t)*.5,a=(r-e)*.5,h=s*s,l=s*h;return(2*e-2*i+n+a)*l+(-3*e+3*i-2*n-a)*h+n*s+e}}},R=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),w=new k,B=function(){function t(e,i){i===void 0&&(i=w),this._object=e,this._group=i,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=_.Linear.None,this._interpolationFunction=d.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=R.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i<0?0:i,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,i){if(e===void 0&&(e=v()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var n in this._valuesEnd)s[n]=this._valuesEnd[n];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,i,r,s,n){for(var a in r){var h=e[a],l=Array.isArray(h),o=l?"array":typeof h,u=!l&&Array.isArray(r[a]);if(!(o==="undefined"||o==="function")){if(u){var f=r[a];if(f.length===0)continue;for(var g=[h],y=0,T=f.length;y<T;y+=1){var S=this._handleRelativeValue(h,f[y]);if(isNaN(S)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}g.push(S)}u&&(r[a]=g)}if((o==="object"||l)&&h&&!u){i[a]=l?[]:{};var b=h;for(var p in b)i[a][p]=b[p];s[a]=l?[]:{};var f=r[a];if(!this._isDynamic){var C={};for(var p in f)C[p]=f[p];r[a]=f=C}this._setupProperties(b,i[a],f,s[a],n)}else(typeof i[a]>"u"||n)&&(i[a]=h),l||(i[a]*=1),u?s[a]=r[a].slice().reverse():s[a]=i[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=v()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=v()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=w),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=_.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=d.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){var r;if(e===void 0&&(e=v()),i===void 0&&(i=!0),this._isPaused)return!0;var s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;i&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var n=e-this._startTime,a=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),h=this._duration+this._repeat*a,l=this._calculateElapsedPortion(n,a,h),o=this._easingFunction(l),u=this._calculateCompletionStatus(n,a);if(u==="repeat"&&this._processRepetition(n,a),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),u==="about-to-repeat"&&this._processRepetition(n,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,l),u==="repeat"||u==="about-to-repeat")this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1;else if(u==="completed"){this._isPlaying=!1,this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var f=0,g=this._chainedTweens.length;f<g;f++)this._chainedTweens[f].start(this._startTime+this._duration,!1)}return u!=="completed"},t.prototype._calculateElapsedPortion=function(e,i,r){if(this._duration===0||e>r)return 1;var s=e%i,n=Math.min(s/this._duration,1);return n===0&&e!==0&&e%this._duration===0?1:n},t.prototype._calculateCompletionStatus=function(e,i){return this._duration!==0&&e<this._duration?"playing":this._repeat<=0?"completed":e===this._duration?"about-to-repeat":"repeat"},t.prototype._processRepetition=function(e,i){var r=Math.min(Math.trunc((e-this._duration)/i)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=r);for(var s in this._valuesStartRepeat){var n=this._valuesEnd[s];!this._yoyo&&typeof n=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(n)),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}this._yoyo&&(this._reversed=!this._reversed),this._startTime+=i*r},t.prototype._updateProperties=function(e,i,r,s){for(var n in r)if(i[n]!==void 0){var a=i[n]||0,h=r[n],l=Array.isArray(e[n]),o=Array.isArray(h),u=!l&&o;u?e[n]=this._interpolationFunction(h,s):typeof h=="object"&&h?this._updateProperties(e[n],a,h,s):(h=this._handleRelativeValue(a,h),typeof h=="number"&&(e[n]=a+(h-a)*s))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t}(),c=w;c.getAll.bind(c);c.removeAll.bind(c);c.add.bind(c);c.remove.bind(c);var j=c.update.bind(c);let A=35208,I={};const O={setItem(t,e,i){let r=`k${A++}`;I[r]=i,t.dataset[e]=r},getItem(t,e){let i=t.dataset[e];return I[i]}},P="popup_window";class F{element;timer;constructor(e){this.element=e,O.setItem(e,P,this),this.element.querySelector(".close-button").addEventListener("click",()=>{console.log("close"),this.close()})}static get(e){return O.getItem(e,P)}close(){this.element.classList.remove("display"),this.timer=setTimeout(()=>{this.element.style.setProperty("display","none")},400)}show(){clearTimeout(this.timer),this.element.style.removeProperty("display"),setTimeout(()=>{this.element.classList.add("display")},20)}}if(!window.setupTween){let t=function(e){j(e),requestAnimationFrame(t)};window.setupTween=!0,requestAnimationFrame(t)}class L{element;constructor(e){this.element=e}get value(){return this.element.getBoundingClientRect().height}}class U{element;scrollBar;scrollObject;tween;constructor(e){this.element=e,this.scrollBar=e.querySelector(".scroll-bar"),e.addEventListener("wheel",h=>{let l=this.element.getBoundingClientRect();h.deltaY<0&&e.scrollTop<=0||h.deltaY>0&&e.scrollTop+l.height>=e.scrollHeight||(this.scrollObject||(this.scrollObject={y:e.scrollTop}),this.tween&&this.tween.stop(),this.tween=new B(this.scrollObject).to({y:e.scrollTop+h.deltaY*3},300).easing(_.Cubic.Out).onUpdate(o=>{e.scrollTo(0,o.y),this.updateScrollBar()}).start(),h.stopImmediatePropagation(),h.preventDefault())}),new M(new L(e)).addListener("change",(h,l)=>{this.updateScrollBar()}),this.updateScrollBar();let r=!1,s=0;this.scrollBar.addEventListener("mousedown",h=>{r=!0,s=h.pageY}),window.addEventListener("mousemove",h=>{if(r){let l=h.pageY-s;s=h.pageY;let o=this.element.getBoundingClientRect(),u=o.height/this.element.scrollHeight,f=o.height*(1-u);this.element.scrollBy(0,(this.element.scrollHeight-o.height)*l/f),this.updateScrollBar()}}),window.addEventListener("mouseup",()=>{r=!1});let n;this.element.addEventListener("touchstart",h=>{n=h.touches[0]});let a=h=>{n=null};this.element.addEventListener("touchcancel",a),this.element.addEventListener("touchend",a),this.element.addEventListener("touchmove",h=>{let l;if(n){for(let o of h.touches)if(o.identifier===n.identifier){l=o;break}}if(l){let o=l.pageY-n.pageY;this.element.scrollBy(0,-o),this.updateScrollBar(),n=l,h.stopImmediatePropagation(),h.preventDefault()}})}updateScrollBar(){let e=this.element.getBoundingClientRect(),i=e.height/this.element.scrollHeight,r=e.height*i,s=this.element.scrollTop;if(i>=1)this.scrollBar.style.display="none";else{this.scrollBar.style.display="block";let n=e.height-r;this.scrollBar.style.height=`${r}px`;let a=s/(this.element.scrollHeight-e.height);this.scrollBar.style.top=`${n*a+s-5}px`}}}let D=document.querySelectorAll(".scroll-view");for(let t of D)new U(t);let z=document.querySelectorAll(".popup-window");for(let t of z)new F(t);export{_ as E,M as L,F as P,B as T};
